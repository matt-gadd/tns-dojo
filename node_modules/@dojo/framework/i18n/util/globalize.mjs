import * as Globalize from 'globalize/dist/globalize';
import { getComputedLocale, getMatchedSupportedLocale } from '../i18n';
/**
 * @private
 * Normalize an array of formatter arguments into a discrete object with `locale`, `options`, `value` and
 * `unit` properties for use with the various Globalize.js formatter methods.
 *
 * @param args
 * An object with an optional locale, options, value, and/or unit.
 *
 * @return
 * The normalized object map.
 */
function normalizeFormatterArguments(args) {
    let { locale, optionsOrLocale, unit, value } = args;
    let options = optionsOrLocale;
    if (typeof optionsOrLocale === 'string') {
        locale = optionsOrLocale;
        options = undefined;
    }
    return { locale, options, unit, value };
}
export function globalizeDelegator(method, args) {
    const { locale: requestedLocale = getComputedLocale(), options, value, unit } = normalizeFormatterArguments(args);
    const locale = getMatchedSupportedLocale(requestedLocale) || getComputedLocale();
    const methodArgs = typeof value !== 'undefined' ? [value] : [];
    if (typeof unit !== 'undefined') {
        methodArgs.push(unit);
    }
    if (typeof options !== 'undefined') {
        methodArgs.push(options);
    }
    const globalize = new Globalize(locale);
    return globalize[method].apply(globalize, methodArgs);
}
//# sourceMappingURL=globalize.mjs.map