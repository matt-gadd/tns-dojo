{"version":3,"file":"registerCustomElement.mjs","sourceRoot":"","sources":["registerCustomElement.ts"],"names":[],"mappings":"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","sourcesContent":["import Registry from './Registry';\nimport {\n\tcreate as vdomCreate,\n\tdiffProperty,\n\tdom as vdomDom,\n\tinvalidator,\n\tisTextNode,\n\trenderer,\n\tw as vdomW\n} from './vdom';\nimport { from } from '../shim/array';\nimport global from '../shim/global';\nimport ThemeInjector from './ThemeInjector';\nimport { DomVNode, WNode } from './interfaces';\n\nconst RESERVED_PROPS = ['focus'];\n\nexport enum CustomElementChildType {\n\tDOJO = 'DOJO',\n\tNODE = 'NODE',\n\tTEXT = 'TEXT'\n}\n\nfunction isElement(item: any): item is Element {\n\treturn item && item.nodeType === 1;\n}\n\nfunction isDojoChild(item: any): boolean {\n\treturn isElement(item) && item.tagName.indexOf('-') > -1;\n}\n\nfunction w(node: any, properties: any, children?: any): WNode {\n\tconst wrappedWNode = vdomW(node, properties, children);\n\n\tfunction wrapper(...args: any[]) {\n\t\tconst { domNode } = node;\n\t\tif (args.length && domNode) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomNode.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: args\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn wrappedWNode;\n\t}\n\n\tObject.keys(wrappedWNode).forEach((key) => ((wrapper as any)[key] = (wrappedWNode as any)[key]));\n\n\treturn wrapper as any;\n}\n\nfunction dom(options: any, children?: any): DomVNode {\n\tconst wrappedDomNode = vdomDom(options, children);\n\n\tfunction wrapper(...args: any[]) {\n\t\tconst { domNode } = wrappedDomNode;\n\t\tif (args.length && domNode) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomNode.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: args\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn wrappedDomNode;\n\t}\n\n\tObject.keys(wrappedDomNode).forEach((key) => ((wrapper as any)[key] = (wrappedDomNode as any)[key]));\n\n\treturn wrapper as any;\n}\n\nconst factory = vdomCreate({ diffProperty, invalidator }).properties<any>();\n\nexport function DomToWidgetWrapper(domNode: HTMLElement): any {\n\tconst wrapper = factory(function DomToWidgetWrapper({ properties, middleware: { invalidator, diffProperty } }) {\n\t\tdiffProperty('', invalidator);\n\t\tconst props = Object.keys(properties()).reduce(\n\t\t\t(props, key: string) => {\n\t\t\t\tconst value = properties()[key];\n\t\t\t\tif (key.indexOf('on') === 0 || RESERVED_PROPS.indexOf(key) !== -1) {\n\t\t\t\t\tkey = `__${key}`;\n\t\t\t\t}\n\t\t\t\tprops[key] = value;\n\t\t\t\treturn props;\n\t\t\t},\n\t\t\t{} as any\n\t\t);\n\t\treturn dom({ node: domNode, props, diffType: 'dom' });\n\t});\n\t(wrapper as any).domNode = domNode;\n\treturn wrapper;\n}\n\nfunction registerThemeInjector(theme: any, themeRegistry: Registry): ThemeInjector {\n\tconst themeInjector = new ThemeInjector(theme);\n\tthemeRegistry.defineInjector('__theme_injector', (invalidator) => {\n\t\tthemeInjector.setInvalidator(invalidator);\n\t\treturn () => themeInjector;\n\t});\n\treturn themeInjector;\n}\n\nexport function create(descriptor: any, WidgetConstructor: any): any {\n\tconst { attributes = [], properties = [], registryFactory = () => new Registry() } = descriptor;\n\tconst attributeMap: any = {};\n\n\tattributes.forEach((propertyName: string) => {\n\t\tconst attributeName = propertyName.toLowerCase();\n\t\tattributeMap[attributeName] = propertyName;\n\t});\n\n\tproperties.forEach((propertyName: string) => {\n\t\tconst attributeName = propertyName.toLowerCase();\n\t\tattributeMap[attributeName] = propertyName;\n\t});\n\n\treturn class extends HTMLElement {\n\t\tprivate _renderer: any;\n\t\tprivate _properties: any = {};\n\t\tprivate _children: any[] = [];\n\t\tprivate _eventProperties: any = {};\n\t\tprivate _propertiesMap: any = {};\n\t\tprivate _initialised = false;\n\t\tprivate _childType = descriptor.childType;\n\n\t\tpublic connectedCallback() {\n\t\t\tif (this._initialised) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._waitTillReady();\n\t\t}\n\n\t\tprivate _hasBeenParsed() {\n\t\t\tif (document.readyState !== 'loading') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet element: any = this;\n\t\t\twhile (element) {\n\t\t\t\tif (element.nextSibling) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate _waitTillReady() {\n\t\t\tthis._initialised = true;\n\t\t\tif (this._hasBeenParsed()) {\n\t\t\t\tthis._readyCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._waitTillReady();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\n\t\tprivate _readyCallback() {\n\t\t\tconst domProperties: any = {};\n\t\t\tconst { properties = [], events = [] } = descriptor;\n\n\t\t\tthis._properties = {\n\t\t\t\t...this._propertiesWithAttributes(properties),\n\t\t\t\t...this._attributesToProperties(attributes)\n\t\t\t};\n\n\t\t\t[...attributes, ...properties].forEach((propertyName: string) => {\n\t\t\t\tconst isReservedProp = RESERVED_PROPS.indexOf(propertyName) !== -1;\n\t\t\t\tconst value =\n\t\t\t\t\tthis._propertiesMap[propertyName] || !isReservedProp ? (this as any)[propertyName] : undefined;\n\t\t\t\tlet filteredPropertyName = propertyName.replace(/^on/, '__');\n\t\t\t\tif (isReservedProp) {\n\t\t\t\t\tfilteredPropertyName = `__${propertyName}`;\n\t\t\t\t}\n\t\t\t\tif (value !== undefined) {\n\t\t\t\t\tthis._properties[propertyName] = value;\n\t\t\t\t}\n\n\t\t\t\tif (filteredPropertyName !== propertyName) {\n\t\t\t\t\tdomProperties[filteredPropertyName] = {\n\t\t\t\t\t\tget: () => this._getProperty(propertyName),\n\t\t\t\t\t\tset: (value: any) => this._setProperty(propertyName, value)\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (!isReservedProp) {\n\t\t\t\t\tdomProperties[propertyName] = {\n\t\t\t\t\t\tget: () => this._getProperty(propertyName),\n\t\t\t\t\t\tset: (value: any) => this._setProperty(propertyName, value)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tevents.forEach((propertyName: string) => {\n\t\t\t\tconst eventName = propertyName.replace(/^on/, '').toLowerCase();\n\t\t\t\tconst filteredPropertyName = propertyName.replace(/^on/, '__on');\n\n\t\t\t\tdomProperties[filteredPropertyName] = {\n\t\t\t\t\tget: () => this._getEventProperty(propertyName),\n\t\t\t\t\tset: (value: any) => this._setEventProperty(propertyName, value)\n\t\t\t\t};\n\n\t\t\t\tthis._eventProperties[propertyName] = undefined;\n\t\t\t\tthis._properties[propertyName] = (...args: any[]) => {\n\t\t\t\t\tconst eventCallback = this._getEventProperty(propertyName);\n\t\t\t\t\tif (typeof eventCallback === 'function') {\n\t\t\t\t\t\teventCallback(...args);\n\t\t\t\t\t}\n\t\t\t\t\tthis.dispatchEvent(\n\t\t\t\t\t\tnew CustomEvent(eventName, {\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tdetail: args\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tObject.defineProperties(this, domProperties);\n\n\t\t\tconst children = from(this.childNodes).filter(\n\t\t\t\t(childNode) => !isTextNode(childNode) || childNode.data.replace(/^\\s+|\\s+$/g, '')\n\t\t\t);\n\n\t\t\tif (!this._childType) {\n\t\t\t\tif (children.some((child) => isDojoChild(child))) {\n\t\t\t\t\tthis._childType = CustomElementChildType.DOJO;\n\t\t\t\t} else {\n\t\t\t\t\tthis._childType = CustomElementChildType.NODE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfrom(children).forEach((childNode) => {\n\t\t\t\tif (this._childType === CustomElementChildType.DOJO) {\n\t\t\t\t\tchildNode.addEventListener('dojo-ce-render', () => this._render());\n\t\t\t\t\tchildNode.addEventListener('dojo-ce-connected', () => this._render());\n\t\t\t\t\tthis._children.push(DomToWidgetWrapper(childNode as HTMLElement));\n\t\t\t\t} else {\n\t\t\t\t\tthis._children.push(dom({ node: childNode as HTMLElement, diffType: 'dom' }));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.addEventListener('dojo-ce-connected', (e: any) => this._childConnected(e));\n\n\t\t\tconst widgetProperties = this._properties;\n\t\t\tconst renderChildren = () => this.__children__();\n\t\t\tconst Wrapper = factory(() => w(WidgetConstructor, widgetProperties, renderChildren()));\n\t\t\tconst registry = registryFactory();\n\t\t\tconst themeContext = registerThemeInjector(\n\t\t\t\tthis._getVariant() ? { theme: this._getTheme(), variant: this._getVariant() } : this._getTheme(),\n\t\t\t\tregistry\n\t\t\t);\n\t\t\tglobal.addEventListener('dojo-theme-set', () => {\n\t\t\t\tconst variant = this._getVariant();\n\t\t\t\tif (variant !== 'noVariant') {\n\t\t\t\t\tthemeContext.set(this._getTheme(), variant);\n\t\t\t\t} else {\n\t\t\t\t\tthemeContext.set(this._getTheme());\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst r = renderer(() => w(Wrapper, {}));\n\t\t\tthis._renderer = r;\n\t\t\tr.mount({ domNode: this, merge: false, registry });\n\t\t\tconst root = this.children[0];\n\t\t\tif (root) {\n\t\t\t\tconst { display = 'block' } = global.getComputedStyle(root);\n\t\t\t\tthis.style.display = display;\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(\n\t\t\t\tnew CustomEvent('dojo-ce-connected', {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tdetail: this\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tprivate _getTheme() {\n\t\t\tif (global && global.dojoce && global.dojoce.theme) {\n\t\t\t\treturn global.dojoce.themes[global.dojoce.theme];\n\t\t\t}\n\t\t}\n\n\t\tprivate _getVariant() {\n\t\t\tif (global && global.dojoce && global.dojoce.variant) {\n\t\t\t\treturn global.dojoce.variant;\n\t\t\t}\n\t\t}\n\n\t\tprivate _childConnected(e: any) {\n\t\t\tconst node = e.detail;\n\t\t\tif (node.parentNode === this) {\n\t\t\t\tconst exists = this._children.some((child) => child.domNode === node);\n\t\t\t\tif (!exists) {\n\t\t\t\t\tnode.addEventListener('dojo-ce-render', () => this._render());\n\t\t\t\t\tthis._children.push(DomToWidgetWrapper(node));\n\t\t\t\t\tthis._render();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _render() {\n\t\t\tif (this._renderer) {\n\t\t\t\tthis._renderer.invalidate();\n\t\t\t\tthis.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('dojo-ce-render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: this\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tpublic __properties__() {\n\t\t\treturn { ...this._properties, ...this._eventProperties };\n\t\t}\n\n\t\tpublic __children__() {\n\t\t\tif (this._children.some((child) => child.domNode.getAttribute && child.domNode.getAttribute('slot'))) {\n\t\t\t\tconst slots = this._children.reduce((slots, child) => {\n\t\t\t\t\tconst { domNode } = child;\n\n\t\t\t\t\tconst slotName = domNode.getAttribute && domNode.getAttribute('slot');\n\n\t\t\t\t\tif (!slotName) {\n\t\t\t\t\t\treturn slots;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet slotResult = child.isFactory\n\t\t\t\t\t\t? w(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tdomNode.__properties__ ? { ...domNode.__properties__() } : {},\n\t\t\t\t\t\t\t\tdomNode.__children__ ? [...domNode.__children__()] : []\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: child;\n\n\t\t\t\t\tconst existingSlotValue = slots[slotName];\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...slots,\n\t\t\t\t\t\t[slotName]: existingSlotValue ? [...existingSlotValue, slotResult] : [slotResult]\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\treturn [\n\t\t\t\t\tObject.keys(slots).reduce((result, key) => {\n\t\t\t\t\t\tconst value = slots[key];\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\t[key]: value.length === 1 ? value[0] : value\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {})\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tif (this._childType === CustomElementChildType.DOJO) {\n\t\t\t\treturn this._children.filter((Child) => Child.domNode.isWidget).map((Child: any) => {\n\t\t\t\t\tconst { domNode } = Child;\n\t\t\t\t\treturn w(Child, { ...domNode.__properties__() }, [...domNode.__children__()]);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this._children;\n\t\t\t}\n\t\t}\n\n\t\tpublic attributeChangedCallback(name: string, oldValue: string | null, value: string | null) {\n\t\t\tconst propertyName = attributeMap[name];\n\n\t\t\tif (attributes.indexOf(propertyName) >= 0) {\n\t\t\t\tthis._setProperty(propertyName, value);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst parsedValue = value ? JSON.parse(value) : null;\n\t\t\t\t\tthis._setProperty(propertyName, parsedValue);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// if json parsing error, we do not set the property\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _setEventProperty(propertyName: string, value: any) {\n\t\t\tthis._eventProperties[propertyName] = value;\n\t\t}\n\n\t\tprivate _getEventProperty(propertyName: string) {\n\t\t\treturn this._eventProperties[propertyName];\n\t\t}\n\n\t\tprivate _setProperty(propertyName: string, value: any) {\n\t\t\tthis._properties[propertyName] = value;\n\t\t\tthis._render();\n\t\t}\n\n\t\tprivate _getProperty(propertyName: string) {\n\t\t\treturn this._properties[propertyName];\n\t\t}\n\n\t\tprivate _propertiesWithAttributes(properties: string[]) {\n\t\t\treturn properties.reduce((properties: any, propertyName: string) => {\n\t\t\t\tconst attributeName = propertyName.toLowerCase();\n\t\t\t\tconst value = this.getAttribute(attributeName);\n\t\t\t\tif (value !== null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproperties[propertyName] = JSON.parse(value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// invalid json values do not get set\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn properties;\n\t\t\t}, {});\n\t\t}\n\n\t\tprivate _attributesToProperties(attributes: string[]) {\n\t\t\treturn attributes.reduce((properties: any, propertyName: string) => {\n\t\t\t\tconst attributeName = propertyName.toLowerCase();\n\t\t\t\tconst value = this.getAttribute(attributeName);\n\t\t\t\tif (value !== null) {\n\t\t\t\t\tproperties[propertyName] = value;\n\t\t\t\t}\n\t\t\t\treturn properties;\n\t\t\t}, {});\n\t\t}\n\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(attributeMap);\n\t\t}\n\n\t\tpublic get isWidget() {\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic set(key: string, value: any) {\n\t\t\tthis._propertiesMap[key] = value;\n\t\t\tif (this._renderer) {\n\t\t\t\tthis._setProperty(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function register(WidgetConstructor: any): void {\n\tconst descriptor = WidgetConstructor.__customElementDescriptor;\n\n\tif (!descriptor) {\n\t\tthrow new Error(\n\t\t\t'Cannot get descriptor for Custom Element, have you added the @customElement decorator to your Widget?'\n\t\t);\n\t}\n\n\tglobal.customElements.define(descriptor.tagName, create(descriptor, WidgetConstructor));\n}\n\nexport default register;\n"]}