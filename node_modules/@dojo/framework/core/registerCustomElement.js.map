{"version":3,"file":"registerCustomElement.js","sourceRoot":"","sources":["registerCustomElement.ts"],"names":[],"mappings":"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","sourcesContent":["import Registry from './Registry';\nimport {\n\tcreate as vdomCreate,\n\tdiffProperty,\n\tdom as vdomDom,\n\tinvalidator,\n\tisTextNode,\n\trenderer,\n\tw as vdomW\n} from './vdom';\nimport { from } from '../shim/array';\nimport global from '../shim/global';\nimport ThemeInjector from './ThemeInjector';\nimport { DomVNode, WNode } from './interfaces';\n\nconst RESERVED_PROPS = ['focus'];\n\nexport enum CustomElementChildType {\n\tDOJO = 'DOJO',\n\tNODE = 'NODE',\n\tTEXT = 'TEXT'\n}\n\nfunction isElement(item: any): item is Element {\n\treturn item && item.nodeType === 1;\n}\n\nfunction isDojoChild(item: any): boolean {\n\treturn isElement(item) && item.tagName.indexOf('-') > -1;\n}\n\nfunction w(node: any, properties: any, children?: any): WNode {\n\tconst wrappedWNode = vdomW(node, properties, children);\n\n\tfunction wrapper(...args: any[]) {\n\t\tconst { domNode } = node;\n\t\tif (args.length && domNode) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomNode.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: args\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn wrappedWNode;\n\t}\n\n\tObject.keys(wrappedWNode).forEach((key) => ((wrapper as any)[key] = (wrappedWNode as any)[key]));\n\n\treturn wrapper as any;\n}\n\nfunction dom(options: any, children?: any): DomVNode {\n\tconst wrappedDomNode = vdomDom(options, children);\n\n\tfunction wrapper(...args: any[]) {\n\t\tconst { domNode } = wrappedDomNode;\n\t\tif (args.length && domNode) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tdomNode.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: args\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn wrappedDomNode;\n\t}\n\n\tObject.keys(wrappedDomNode).forEach((key) => ((wrapper as any)[key] = (wrappedDomNode as any)[key]));\n\n\treturn wrapper as any;\n}\n\nconst factory = vdomCreate({ diffProperty, invalidator }).properties<any>();\n\nexport function DomToWidgetWrapper(domNode: HTMLElement): any {\n\tconst wrapper = factory(function DomToWidgetWrapper({ properties, middleware: { invalidator, diffProperty } }) {\n\t\tdiffProperty('', invalidator);\n\t\tconst props = Object.keys(properties()).reduce(\n\t\t\t(props, key: string) => {\n\t\t\t\tconst value = properties()[key];\n\t\t\t\tif (key.indexOf('on') === 0 || RESERVED_PROPS.indexOf(key) !== -1) {\n\t\t\t\t\tkey = `__${key}`;\n\t\t\t\t}\n\t\t\t\tprops[key] = value;\n\t\t\t\treturn props;\n\t\t\t},\n\t\t\t{} as any\n\t\t);\n\t\treturn dom({ node: domNode, props, diffType: 'dom' });\n\t});\n\t(wrapper as any).domNode = domNode;\n\treturn wrapper;\n}\n\nfunction registerThemeInjector(theme: any, themeRegistry: Registry): ThemeInjector {\n\tconst themeInjector = new ThemeInjector(theme);\n\tthemeRegistry.defineInjector('__theme_injector', (invalidator) => {\n\t\tthemeInjector.setInvalidator(invalidator);\n\t\treturn () => themeInjector;\n\t});\n\treturn themeInjector;\n}\n\nexport function create(descriptor: any, WidgetConstructor: any): any {\n\tconst { attributes = [], properties = [], registryFactory = () => new Registry() } = descriptor;\n\tconst attributeMap: any = {};\n\n\tattributes.forEach((propertyName: string) => {\n\t\tconst attributeName = propertyName.toLowerCase();\n\t\tattributeMap[attributeName] = propertyName;\n\t});\n\n\tproperties.forEach((propertyName: string) => {\n\t\tconst attributeName = propertyName.toLowerCase();\n\t\tattributeMap[attributeName] = propertyName;\n\t});\n\n\treturn class extends HTMLElement {\n\t\tprivate _renderer: any;\n\t\tprivate _properties: any = {};\n\t\tprivate _children: any[] = [];\n\t\tprivate _eventProperties: any = {};\n\t\tprivate _propertiesMap: any = {};\n\t\tprivate _initialised = false;\n\t\tprivate _childType = descriptor.childType;\n\n\t\tpublic connectedCallback() {\n\t\t\tif (this._initialised) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._waitTillReady();\n\t\t}\n\n\t\tprivate _hasBeenParsed() {\n\t\t\tif (document.readyState !== 'loading') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet element: any = this;\n\t\t\twhile (element) {\n\t\t\t\tif (element.nextSibling) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tprivate _waitTillReady() {\n\t\t\tthis._initialised = true;\n\t\t\tif (this._hasBeenParsed()) {\n\t\t\t\tthis._readyCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._waitTillReady();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\n\t\tprivate _readyCallback() {\n\t\t\tconst domProperties: any = {};\n\t\t\tconst { properties = [], events = [] } = descriptor;\n\n\t\t\tthis._properties = {\n\t\t\t\t...this._propertiesWithAttributes(properties),\n\t\t\t\t...this._attributesToProperties(attributes)\n\t\t\t};\n\n\t\t\t[...attributes, ...properties].forEach((propertyName: string) => {\n\t\t\t\tconst isReservedProp = RESERVED_PROPS.indexOf(propertyName) !== -1;\n\t\t\t\tconst value =\n\t\t\t\t\tthis._propertiesMap[propertyName] || !isReservedProp ? (this as any)[propertyName] : undefined;\n\t\t\t\tlet filteredPropertyName = propertyName.replace(/^on/, '__');\n\t\t\t\tif (isReservedProp) {\n\t\t\t\t\tfilteredPropertyName = `__${propertyName}`;\n\t\t\t\t}\n\t\t\t\tif (value !== undefined) {\n\t\t\t\t\tthis._properties[propertyName] = value;\n\t\t\t\t}\n\n\t\t\t\tif (filteredPropertyName !== propertyName) {\n\t\t\t\t\tdomProperties[filteredPropertyName] = {\n\t\t\t\t\t\tget: () => this._getProperty(propertyName),\n\t\t\t\t\t\tset: (value: any) => this._setProperty(propertyName, value)\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (!isReservedProp) {\n\t\t\t\t\tdomProperties[propertyName] = {\n\t\t\t\t\t\tget: () => this._getProperty(propertyName),\n\t\t\t\t\t\tset: (value: any) => this._setProperty(propertyName, value)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tevents.forEach((propertyName: string) => {\n\t\t\t\tconst eventName = propertyName.replace(/^on/, '').toLowerCase();\n\t\t\t\tconst filteredPropertyName = propertyName.replace(/^on/, '__on');\n\n\t\t\t\tdomProperties[filteredPropertyName] = {\n\t\t\t\t\tget: () => this._getEventProperty(propertyName),\n\t\t\t\t\tset: (value: any) => this._setEventProperty(propertyName, value)\n\t\t\t\t};\n\n\t\t\t\tthis._eventProperties[propertyName] = undefined;\n\t\t\t\tthis._properties[propertyName] = (...args: any[]) => {\n\t\t\t\t\tconst eventCallback = this._getEventProperty(propertyName);\n\t\t\t\t\tif (typeof eventCallback === 'function') {\n\t\t\t\t\t\teventCallback(...args);\n\t\t\t\t\t}\n\t\t\t\t\tthis.dispatchEvent(\n\t\t\t\t\t\tnew CustomEvent(eventName, {\n\t\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\t\tdetail: args\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tObject.defineProperties(this, domProperties);\n\n\t\t\tconst children = from(this.childNodes).filter(\n\t\t\t\t(childNode) => !isTextNode(childNode) || childNode.data.replace(/^\\s+|\\s+$/g, '')\n\t\t\t);\n\n\t\t\tif (!this._childType) {\n\t\t\t\tif (children.some((child) => isDojoChild(child))) {\n\t\t\t\t\tthis._childType = CustomElementChildType.DOJO;\n\t\t\t\t} else {\n\t\t\t\t\tthis._childType = CustomElementChildType.NODE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfrom(children).forEach((childNode) => {\n\t\t\t\tif (this._childType === CustomElementChildType.DOJO) {\n\t\t\t\t\tchildNode.addEventListener('dojo-ce-render', () => this._render());\n\t\t\t\t\tchildNode.addEventListener('dojo-ce-connected', () => this._render());\n\t\t\t\t\tthis._children.push(DomToWidgetWrapper(childNode as HTMLElement));\n\t\t\t\t} else {\n\t\t\t\t\tthis._children.push(dom({ node: childNode as HTMLElement, diffType: 'dom' }));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.addEventListener('dojo-ce-connected', (e: any) => this._childConnected(e));\n\n\t\t\tconst widgetProperties = this._properties;\n\t\t\tconst renderChildren = () => this.__children__();\n\t\t\tconst Wrapper = factory(() => w(WidgetConstructor, widgetProperties, renderChildren()));\n\t\t\tconst registry = registryFactory();\n\t\t\tconst themeContext = registerThemeInjector(\n\t\t\t\tthis._getVariant() ? { theme: this._getTheme(), variant: this._getVariant() } : this._getTheme(),\n\t\t\t\tregistry\n\t\t\t);\n\t\t\tglobal.addEventListener('dojo-theme-set', () => {\n\t\t\t\tconst variant = this._getVariant();\n\t\t\t\tif (variant !== 'noVariant') {\n\t\t\t\t\tthemeContext.set(this._getTheme(), variant);\n\t\t\t\t} else {\n\t\t\t\t\tthemeContext.set(this._getTheme());\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst r = renderer(() => w(Wrapper, {}));\n\t\t\tthis._renderer = r;\n\t\t\tr.mount({ domNode: this, merge: false, registry });\n\t\t\tconst root = this.children[0];\n\t\t\tif (root) {\n\t\t\t\tconst { display = 'block' } = global.getComputedStyle(root);\n\t\t\t\tthis.style.display = display;\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(\n\t\t\t\tnew CustomEvent('dojo-ce-connected', {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tdetail: this\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tprivate _getTheme() {\n\t\t\tif (global && global.dojoce && global.dojoce.theme) {\n\t\t\t\treturn global.dojoce.themes[global.dojoce.theme];\n\t\t\t}\n\t\t}\n\n\t\tprivate _getVariant() {\n\t\t\tif (global && global.dojoce && global.dojoce.variant) {\n\t\t\t\treturn global.dojoce.variant;\n\t\t\t}\n\t\t}\n\n\t\tprivate _childConnected(e: any) {\n\t\t\tconst node = e.detail;\n\t\t\tif (node.parentNode === this) {\n\t\t\t\tconst exists = this._children.some((child) => child.domNode === node);\n\t\t\t\tif (!exists) {\n\t\t\t\t\tnode.addEventListener('dojo-ce-render', () => this._render());\n\t\t\t\t\tthis._children.push(DomToWidgetWrapper(node));\n\t\t\t\t\tthis._render();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _render() {\n\t\t\tif (this._renderer) {\n\t\t\t\tthis._renderer.invalidate();\n\t\t\t\tthis.dispatchEvent(\n\t\t\t\t\tnew CustomEvent('dojo-ce-render', {\n\t\t\t\t\t\tbubbles: false,\n\t\t\t\t\t\tdetail: this\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tpublic __properties__() {\n\t\t\treturn { ...this._properties, ...this._eventProperties };\n\t\t}\n\n\t\tpublic __children__() {\n\t\t\tif (this._children.some((child) => child.domNode.getAttribute && child.domNode.getAttribute('slot'))) {\n\t\t\t\tconst slots = this._children.reduce((slots, child) => {\n\t\t\t\t\tconst { domNode } = child;\n\n\t\t\t\t\tconst slotName = domNode.getAttribute && domNode.getAttribute('slot');\n\n\t\t\t\t\tif (!slotName) {\n\t\t\t\t\t\treturn slots;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet slotResult = child.isFactory\n\t\t\t\t\t\t? w(\n\t\t\t\t\t\t\t\tchild,\n\t\t\t\t\t\t\t\tdomNode.__properties__ ? { ...domNode.__properties__() } : {},\n\t\t\t\t\t\t\t\tdomNode.__children__ ? [...domNode.__children__()] : []\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: child;\n\n\t\t\t\t\tconst existingSlotValue = slots[slotName];\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...slots,\n\t\t\t\t\t\t[slotName]: existingSlotValue ? [...existingSlotValue, slotResult] : [slotResult]\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\n\t\t\t\treturn [\n\t\t\t\t\tObject.keys(slots).reduce((result, key) => {\n\t\t\t\t\t\tconst value = slots[key];\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\t[key]: value.length === 1 ? value[0] : value\n\t\t\t\t\t\t};\n\t\t\t\t\t}, {})\n\t\t\t\t];\n\t\t\t}\n\n\t\t\tif (this._childType === CustomElementChildType.DOJO) {\n\t\t\t\treturn this._children.filter((Child) => Child.domNode.isWidget).map((Child: any) => {\n\t\t\t\t\tconst { domNode } = Child;\n\t\t\t\t\treturn w(Child, { ...domNode.__properties__() }, [...domNode.__children__()]);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this._children;\n\t\t\t}\n\t\t}\n\n\t\tpublic attributeChangedCallback(name: string, oldValue: string | null, value: string | null) {\n\t\t\tconst propertyName = attributeMap[name];\n\n\t\t\tif (attributes.indexOf(propertyName) >= 0) {\n\t\t\t\tthis._setProperty(propertyName, value);\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst parsedValue = value ? JSON.parse(value) : null;\n\t\t\t\t\tthis._setProperty(propertyName, parsedValue);\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// if json parsing error, we do not set the property\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tprivate _setEventProperty(propertyName: string, value: any) {\n\t\t\tthis._eventProperties[propertyName] = value;\n\t\t}\n\n\t\tprivate _getEventProperty(propertyName: string) {\n\t\t\treturn this._eventProperties[propertyName];\n\t\t}\n\n\t\tprivate _setProperty(propertyName: string, value: any) {\n\t\t\tthis._properties[propertyName] = value;\n\t\t\tthis._render();\n\t\t}\n\n\t\tprivate _getProperty(propertyName: string) {\n\t\t\treturn this._properties[propertyName];\n\t\t}\n\n\t\tprivate _propertiesWithAttributes(properties: string[]) {\n\t\t\treturn properties.reduce((properties: any, propertyName: string) => {\n\t\t\t\tconst attributeName = propertyName.toLowerCase();\n\t\t\t\tconst value = this.getAttribute(attributeName);\n\t\t\t\tif (value !== null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproperties[propertyName] = JSON.parse(value);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// invalid json values do not get set\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn properties;\n\t\t\t}, {});\n\t\t}\n\n\t\tprivate _attributesToProperties(attributes: string[]) {\n\t\t\treturn attributes.reduce((properties: any, propertyName: string) => {\n\t\t\t\tconst attributeName = propertyName.toLowerCase();\n\t\t\t\tconst value = this.getAttribute(attributeName);\n\t\t\t\tif (value !== null) {\n\t\t\t\t\tproperties[propertyName] = value;\n\t\t\t\t}\n\t\t\t\treturn properties;\n\t\t\t}, {});\n\t\t}\n\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(attributeMap);\n\t\t}\n\n\t\tpublic get isWidget() {\n\t\t\treturn true;\n\t\t}\n\n\t\tpublic set(key: string, value: any) {\n\t\t\tthis._propertiesMap[key] = value;\n\t\t\tif (this._renderer) {\n\t\t\t\tthis._setProperty(key, value);\n\t\t\t}\n\t\t}\n\t};\n}\n\nexport function register(WidgetConstructor: any): void {\n\tconst descriptor = WidgetConstructor.__customElementDescriptor;\n\n\tif (!descriptor) {\n\t\tthrow new Error(\n\t\t\t'Cannot get descriptor for Custom Element, have you added the @customElement decorator to your Widget?'\n\t\t);\n\t}\n\n\tglobal.customElements.define(descriptor.tagName, create(descriptor, WidgetConstructor));\n}\n\nexport default register;\n"]}